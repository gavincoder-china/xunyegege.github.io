<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009(springbootä¸­é›†æˆå¾®ä¿¡ç™»å½•[å®Œæ•´,æœ€æ–°,æœ€å…¨] &amp;ngrokå†…ç½‘ç©¿é€) | ğŸ˜Šäººç”Ÿå¦‚è¯—,éšæ„å¦‚é£</title>
    <meta name="description" content="Gavinçš„åšå®¢">
    
    
    <link rel="preload" href="/assets/css/0.styles.617c345f.css" as="style"><link rel="preload" href="/assets/js/app.1802431f.js" as="script"><link rel="preload" href="/assets/js/2.9f60d17e.js" as="script"><link rel="preload" href="/assets/js/16.d9e27bd4.js" as="script"><link rel="prefetch" href="/assets/js/10.3e49fff8.js"><link rel="prefetch" href="/assets/js/11.ed783597.js"><link rel="prefetch" href="/assets/js/12.7128232c.js"><link rel="prefetch" href="/assets/js/13.dd4acf38.js"><link rel="prefetch" href="/assets/js/14.479db8a6.js"><link rel="prefetch" href="/assets/js/15.dadc8741.js"><link rel="prefetch" href="/assets/js/17.da288ba2.js"><link rel="prefetch" href="/assets/js/18.299c971d.js"><link rel="prefetch" href="/assets/js/19.5cfbeda4.js"><link rel="prefetch" href="/assets/js/20.4f6b0523.js"><link rel="prefetch" href="/assets/js/21.7854a52a.js"><link rel="prefetch" href="/assets/js/3.8203601e.js"><link rel="prefetch" href="/assets/js/4.174d0342.js"><link rel="prefetch" href="/assets/js/5.ff669538.js"><link rel="prefetch" href="/assets/js/6.049ba214.js"><link rel="prefetch" href="/assets/js/7.873fcb8c.js"><link rel="prefetch" href="/assets/js/8.dd5252fc.js"><link rel="prefetch" href="/assets/js/9.4d4f0704.js">
    <link rel="stylesheet" href="/assets/css/0.styles.617c345f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ğŸ˜Šäººç”Ÿå¦‚è¯—,éšæ„å¦‚é£</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¯¼èˆª
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://tu.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å›¾åºŠ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://choose.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ‘‡å·
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://love.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LOVE
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://blog.csdn.net/weixin_39200308" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç²¾ååšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.github.com/xunyegege" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¯¼èˆª
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://tu.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å›¾åºŠ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://choose.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ‘‡å·
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://love.pythonforever.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LOVE
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://blog.csdn.net/weixin_39200308" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç²¾ååšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.github.com/xunyegege" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/SpringBooté¢è¯•ç›¸å…³.html" class="sidebar-link">/java/SpringBooté¢è¯•ç›¸å…³.html</a></li><li><a href="/java/redisè¿›é˜¶.html" class="sidebar-link">redisè¿›é˜¶</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 001.html" class="sidebar-link">/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 001.html</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 002.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 002(springbootçš„é…ç½®è¯»å–ä¸å¤šç¯å¢ƒé…ç½®)</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 003.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 003(springbootä¸­é›†æˆSwagger-bootstrap-ui--postman)</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 004.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 004(springbooté›†æˆRedis)</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 005.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 005(springbooté›†æˆDubbo)</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 006.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 006(SpringBooté›†æˆRediså®ç°Tokenç™»å½•æ³¨å†Œ)</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 007.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 007(springbootä¸­è®¾è®¡å°è£…Resultè¿”å›ç»“æœé›†ç±»)</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 008.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 008(springbootä¸­é›†æˆBCryptå¯†ç åŠ å¯†&amp; jjwt&amp;è‡ªå®šä¹‰æ³¨è§£(æ‹¦æˆªå™¨))</a></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html" class="active sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009(springbootä¸­é›†æˆå¾®ä¿¡ç™»å½•[å®Œæ•´,æœ€æ–°,æœ€å…¨] &amp;ngrokå†…ç½‘ç©¿é€)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-1-å‡†å¤‡å·¥ä½œ" class="sidebar-link">â­ï¸(1).å‡†å¤‡å·¥ä½œ</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-2-å¾®ä¿¡ç™»å½•çš„æµç¨‹å›¾-å¾ˆé‡è¦-æ¯”å®˜æ–¹æ›´è¯¦ç»†" class="sidebar-link">â­ï¸(2).å¾®ä¿¡ç™»å½•çš„æµç¨‹å›¾(å¾ˆé‡è¦,æ¯”å®˜æ–¹æ›´è¯¦ç»†)</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-3-ä¸‰å¤§é‡è¦æ¥å£è°ƒç”¨æ‰€éœ€å‚æ•°åŠå…¶è¿”å›å€¼è§£æ" class="sidebar-link">â­ï¸(3).ä¸‰å¤§é‡è¦æ¥å£è°ƒç”¨æ‰€éœ€å‚æ•°åŠå…¶è¿”å›å€¼è§£æ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#_1ï¸âƒ£è¯·æ±‚è·å–codeå‚æ•°" class="sidebar-link">1ï¸âƒ£è¯·æ±‚è·å–codeå‚æ•°</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#_2ï¸âƒ£è¯·æ±‚access-token-openidç­‰å‚æ•°" class="sidebar-link">2ï¸âƒ£è¯·æ±‚access_token&amp;openidç­‰å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#_3ï¸âƒ£è¯·æ±‚ç”¨æˆ·ä¿¡æ¯" class="sidebar-link">3ï¸âƒ£è¯·æ±‚ç”¨æˆ·ä¿¡æ¯</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-4-ä»£ç ç»“æ„å›¾" class="sidebar-link">â­ï¸(4).ä»£ç ç»“æ„å›¾</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-5-ä»£ç å±•ç¤º" class="sidebar-link">â­ï¸(5).ä»£ç å±•ç¤º</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#_1ï¸âƒ£å¾®ä¿¡ç™»å½•å®ä½“ç±»ä»£ç -é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®å±•ç¤º" class="sidebar-link">1ï¸âƒ£å¾®ä¿¡ç™»å½•å®ä½“ç±»ä»£ç &amp;é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®å±•ç¤º</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-6-redirecturlé“¾æ¥è§£æ-å†…ç½‘ç©¿é€æ–¹æ³•ä»‹ç»" class="sidebar-link">â­ï¸(6). redirectUrlé“¾æ¥è§£æ&amp;å†…ç½‘ç©¿é€æ–¹æ³•ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#ğŸŒ¹redirecturlå‚æ•°" class="sidebar-link">ğŸŒ¹redirectUrlå‚æ•°</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#ğŸŒ¹ä½¿ç”¨ngrokè¿›è¡Œå†…ç½‘ç©¿é€" class="sidebar-link">ğŸŒ¹ä½¿ç”¨Ngrokè¿›è¡Œå†…ç½‘ç©¿é€</a></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#ğŸŒ¹åœ¨å¾®ä¿¡æµ‹è¯•å·ç½‘é¡µä¸Šè®¾ç½®è‡ªå·±çš„å†…ç½‘ç©¿é€åœ°å€" class="sidebar-link">ğŸŒ¹åœ¨å¾®ä¿¡æµ‹è¯•å·ç½‘é¡µä¸Šè®¾ç½®è‡ªå·±çš„å†…ç½‘ç©¿é€åœ°å€</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009.html#â­ï¸-7-æµ‹è¯•å±•ç¤º" class="sidebar-link">â­ï¸(7).æµ‹è¯•å±•ç¤º</a></li></ul></li><li><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 010.html" class="sidebar-link">åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 010(SpringCloudä¸­çš„è¶…æ—¶é—®é¢˜è§£å†³æ–¹æ¡ˆ)</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è—å®é˜</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å²æœˆå¦‚æ¢­(æ—¥è®°)</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009-springbootä¸­é›†æˆå¾®ä¿¡ç™»å½•-å®Œæ•´-æœ€æ–°-æœ€å…¨-ngrokå†…ç½‘ç©¿é€"><a href="#åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009-springbootä¸­é›†æˆå¾®ä¿¡ç™»å½•-å®Œæ•´-æœ€æ–°-æœ€å…¨-ngrokå†…ç½‘ç©¿é€" aria-hidden="true" class="header-anchor">#</a> åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 009(springbootä¸­é›†æˆå¾®ä¿¡ç™»å½•[å®Œæ•´,æœ€æ–°,æœ€å…¨] &amp;ngrokå†…ç½‘ç©¿é€)</h1> <h2 id="â­ï¸-1-å‡†å¤‡å·¥ä½œ"><a href="#â­ï¸-1-å‡†å¤‡å·¥ä½œ" aria-hidden="true" class="header-anchor">#</a> â­ï¸(1).å‡†å¤‡å·¥ä½œ</h2> <blockquote><h4 id="_1ï¸âƒ£ç”³è¯·æµ‹è¯•å·"><a href="#_1ï¸âƒ£ç”³è¯·æµ‹è¯•å·" aria-hidden="true" class="header-anchor">#</a> 1ï¸âƒ£ç”³è¯·æµ‹è¯•å·</h4> <p>https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&amp;t=sandbox%2Findex</p> <p>è®¿é—®è¯¥é“¾æ¥,æ‰«ç ç™»å½•ç”³è¯·ä¸€ä¸ªæµ‹è¯•å·(æ­£å¼å·éœ€è¦å…¬å¸è®¤è¯)</p> <p>2ï¸âƒ£å®˜æ–¹æ–‡æ¡£åœ°å€  (å®˜æ–¹æ–‡æ¡£ä¸­çš„é“¾æ¥å‚æ•°æœ‰é”™,å»ºè®®çœ‹æˆ‘ä¸‹æ–‡åšå®¢)</p> <p>https://developers.weixin.qq.com/doc/oplatform/Website_App/WeChat_Login/Wechat_Login.html</p> <p>3ï¸âƒ£å‡ ä¸ªæ³¨æ„ç‚¹</p> <p>åé¢éœ€è¦ç™»å½•æµ‹è¯•çš„å¾®ä¿¡,éœ€è¦å…ˆæ‰«ç å…³æ³¨æµ‹è¯•å…¬ä¼—å·</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9x2go97j30vv096myc.jpg" alt="image-20191009213353241"></p> <p>ä½ è‡ªå·±çš„AppID/secret</p> <p>è¿™è¾¹å¾…ä¼šè¦ç”¨,å…ˆç•™æ„ç€<img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s5j5vywmj30wi06ojsi.jpg" alt="image-20191009190206151"></p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9kkf0y5j30ta0fkmy6.jpg" alt="image-20191009212148314"></p></blockquote> <h2 id="â­ï¸-2-å¾®ä¿¡ç™»å½•çš„æµç¨‹å›¾-å¾ˆé‡è¦-æ¯”å®˜æ–¹æ›´è¯¦ç»†"><a href="#â­ï¸-2-å¾®ä¿¡ç™»å½•çš„æµç¨‹å›¾-å¾ˆé‡è¦-æ¯”å®˜æ–¹æ›´è¯¦ç»†" aria-hidden="true" class="header-anchor">#</a> â­ï¸(2).å¾®ä¿¡ç™»å½•çš„æµç¨‹å›¾(å¾ˆé‡è¦,æ¯”å®˜æ–¹æ›´è¯¦ç»†)</h2> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s5yg2739j31080gaq81.jpg" alt="image-20191009191648716"></p> <h2 id="â­ï¸-3-ä¸‰å¤§é‡è¦æ¥å£è°ƒç”¨æ‰€éœ€å‚æ•°åŠå…¶è¿”å›å€¼è§£æ"><a href="#â­ï¸-3-ä¸‰å¤§é‡è¦æ¥å£è°ƒç”¨æ‰€éœ€å‚æ•°åŠå…¶è¿”å›å€¼è§£æ" aria-hidden="true" class="header-anchor">#</a> â­ï¸(3).ä¸‰å¤§é‡è¦æ¥å£è°ƒç”¨æ‰€éœ€å‚æ•°åŠå…¶è¿”å›å€¼è§£æ</h2> <blockquote><h3 id="_1ï¸âƒ£è¯·æ±‚è·å–codeå‚æ•°"><a href="#_1ï¸âƒ£è¯·æ±‚è·å–codeå‚æ•°" aria-hidden="true" class="header-anchor">#</a> 1ï¸âƒ£è¯·æ±‚è·å–codeå‚æ•°</h3> <p>é“¾æ¥:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token keyword">open</span><span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>connect<span class="token operator">/</span>oauth2<span class="token operator">/</span>authorize<span class="token operator">?</span>    <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
appid<span class="token operator">=</span>APPID                                             <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä½ æµ‹è¯•å·çš„<span class="token class-name">AppID</span>
<span class="token operator">&amp;</span>redirect_uri<span class="token operator">=</span><span class="token class-name">RedirectUrl</span>                               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>å¾®ä¿¡å›è°ƒçš„æ–¹æ³•åœ°å€<span class="token punctuation">(</span>ä¸‹é¢è¯¦è§£<span class="token punctuation">)</span>
<span class="token operator">&amp;</span>response_type<span class="token operator">=</span>code                                     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
<span class="token operator">&amp;</span>scope<span class="token operator">=</span>snsapi_userinfo                                  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
<span class="token operator">&amp;</span>state<span class="token operator">=</span>STATE                                            <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
#wechat_redirect                                        <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿”å›å€¼:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>è¿”å›ä¸€ä¸ªstringç±»å‹çš„codeå‚æ•°  å¦‚<span class="token operator">:</span><span class="token number">061</span>Iwfgo<span class="token number">1</span>gLnqp<span class="token number">0</span>Dffho<span class="token number">1</span>G<span class="token number">2</span>Ufo<span class="token number">1</span>Iwfgu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2ï¸âƒ£è¯·æ±‚access-token-openidç­‰å‚æ•°"><a href="#_2ï¸âƒ£è¯·æ±‚access-token-openidç­‰å‚æ•°" aria-hidden="true" class="header-anchor">#</a> 2ï¸âƒ£è¯·æ±‚access_token&amp;openidç­‰å‚æ•°</h3> <p>é“¾æ¥:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>api<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>sns<span class="token operator">/</span>oauth2<span class="token operator">/</span>access_token<span class="token operator">?</span>      <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
appid<span class="token operator">=</span>APPID                                             <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä½ æµ‹è¯•å·çš„<span class="token class-name">AppID</span>
<span class="token operator">&amp;</span>secret<span class="token operator">=</span>SECRET                                          <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä½ æµ‹è¯•å·çš„secret
<span class="token operator">&amp;</span>code<span class="token operator">=</span>CODE                                              <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸Šé¢æ–¹æ³•è¿”å›çš„code
<span class="token operator">&amp;</span>grant_type<span class="token operator">=</span>authorization_code                          <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿”å›å€¼:</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s6h78qm4j30p2057myu.jpg" alt="image-20191009193450061"></p> <p>access_token:ä¸‹é¢è¦ç”¨</p> <p>openid:ç”¨æˆ·çš„id(å”¯ä¸€,ä¸å˜),ä¸‹é¢è·å–ç”¨æˆ·ä¿¡æ¯éœ€è¦ç”¨,è¿™ä¸ªä¹Ÿå¯ä»¥å½“åšå¾®ä¿¡ç”¨æˆ·è¡¨çš„ä¸»é”®id</p> <p>expire_in:è¿‡æœŸæ—¶é—´(å•ä½:ç§’),ä¸¤å°æ—¶</p> <h3 id="_3ï¸âƒ£è¯·æ±‚ç”¨æˆ·ä¿¡æ¯"><a href="#_3ï¸âƒ£è¯·æ±‚ç”¨æˆ·ä¿¡æ¯" aria-hidden="true" class="header-anchor">#</a> 3ï¸âƒ£è¯·æ±‚ç”¨æˆ·ä¿¡æ¯</h3> <p>é“¾æ¥:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>api<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>sns<span class="token operator">/</span>userinfo<span class="token operator">?</span>                  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
access_token<span class="token operator">=</span>access_token                                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸Šé¢æ–¹æ³•è¿”å›çš„access_token
<span class="token operator">&amp;</span>openid<span class="token operator">=</span>openid                                           <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸Šé¢æ–¹æ³•è¿”å›çš„openid
<span class="token operator">&amp;</span>lang<span class="token operator">=</span>zh_CN                                              <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>ä¸å˜
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿”å›å€¼:</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s6oietr9j30on08740d.jpg" alt="image-20191009194152318"></p></blockquote> <h2 id="â­ï¸-4-ä»£ç ç»“æ„å›¾"><a href="#â­ï¸-4-ä»£ç ç»“æ„å›¾" aria-hidden="true" class="header-anchor">#</a> â­ï¸(4).ä»£ç ç»“æ„å›¾</h2> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s8gxw0xbj31100a1tae.jpg" alt="image-20191009204346365"></p> <h2 id="â­ï¸-5-ä»£ç å±•ç¤º"><a href="#â­ï¸-5-ä»£ç å±•ç¤º" aria-hidden="true" class="header-anchor">#</a> â­ï¸(5).ä»£ç å±•ç¤º</h2> <blockquote><h3 id="_1ï¸âƒ£å¾®ä¿¡ç™»å½•å®ä½“ç±»ä»£ç -é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®å±•ç¤º"><a href="#_1ï¸âƒ£å¾®ä¿¡ç™»å½•å®ä½“ç±»ä»£ç -é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®å±•ç¤º" aria-hidden="true" class="header-anchor">#</a> 1ï¸âƒ£å¾®ä¿¡ç™»å½•å®ä½“ç±»ä»£ç &amp;é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®å±•ç¤º</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * **********************************************************
 *
 * @Project:
 * @Author : Gavincoder
 * @Mail : xunyegege@gmail.com
 * @Github : https://github.com/xunyegege
 * @ver : version 1.0
 * @Date : 2019-10-09 10:28
 * @description:
 ************************************************************/</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;wx&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WxLoginModel</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¯·æ±‚codeçš„åœ°å€</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> codeUrl<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> appId<span class="token punctuation">;</span>

    <span class="token comment">//å¾®ä¿¡å›è°ƒåœ°å€</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> redirectUrl<span class="token punctuation">;</span>

    <span class="token comment">//ç§˜é’¥</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> secret<span class="token punctuation">;</span>

    <span class="token comment">//è¯·æ±‚toeknçš„åœ°å€</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenUrl<span class="token punctuation">;</span>

    <span class="token comment">//è¯·æ±‚ç”¨æˆ·ä¿¡æ¯çš„åœ°å€</span>
    
    <span class="token keyword">private</span> <span class="token class-name">String</span> userInfoUrl<span class="token punctuation">;</span>


    <span class="token comment">/**
     * @return java.lang.String
     * @throws
     * @description æ‹¼æ¥ç”Ÿæˆè¯·æ±‚codeå®Œæ•´é“¾æ¥
     * @author Gavin
     * @date 2019-10-09 20:47
     * @since
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getRealUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//new stringBufferå¯¹è±¡çš„æ—¶å€™å°±æŠŠç¬¬ä¸€ä¸ªéœ€è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²åŠ è¿›å»(æ–¹ä¾¿æ“ä½œ)</span>
        <span class="token class-name">StringBuffer</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token function">getCodeUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token class-name">String</span> realUrl <span class="token operator">=</span> buffer
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;appid=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">getAppId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;redirect_uri=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">getRedirectUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;response_type=code&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;scope=snsapi_userinfo&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;state=STATE&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;#wechat_redirect&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> realUrl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/**
     * @return java.lang.String
     * @throws
     * @description æ‹¼æ¥ç”Ÿæˆè¯·æ±‚accessToken/openidçš„å®Œæ•´é“¾æ¥,å‚æ•°codeç”±ç¬¬ä¸€æ­¥æ–¹æ³•è¿”å›
     * @author Gavin
     * @date 2019-10-09 20:48
     * @since
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAccessTokenUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token punctuation">{</span>


        <span class="token class-name">StringBuffer</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token function">getTokenUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> tokenUrl <span class="token operator">=</span> buffer
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;appid=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">getAppId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;secret=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">getSecret</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;code=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;grant_type=authorization_code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> tokenUrl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/**
     * @return java.lang.String
     * @throws
     * @description æ‹¼æ¥ç”Ÿæˆè¯·æ±‚ç”¨æˆ·ä¿¡æ¯çš„å®Œæ•´é“¾æ¥, å‚æ•°accessToken/openidç”±ç¬¬äºŒæ­¥æ–¹æ³•è¿”å›
     * @author Gavin
     * @date 2019-10-09 20:48
     * @since
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUserInfoUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> accessToken<span class="token punctuation">,</span> <span class="token class-name">String</span> openid<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">StringBuffer</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token function">getUserInfoUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">UserInfoUrl</span> <span class="token operator">=</span> buffer
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;access_token=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>accessToken<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;openid=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>openid<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;lang=zh_CN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">UserInfoUrl</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br></div></div><div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment">#å¾®ä¿¡ç™»å½•ç›¸å…³</span>

<span class="token attr-name">wx.codeUrl</span><span class="token punctuation">=</span><span class="token attr-value">https://open.weixin.qq.com/connect/oauth2/authorize?</span>

<span class="token attr-name">wx.appId</span><span class="token punctuation">=</span><span class="token attr-value">xxxxxxxxxx(å¡«ä½ è‡ªå·±çš„)    </span>

<span class="token attr-name">wx.redirectUrl</span><span class="token punctuation">=</span><span class="token attr-value">https://7292458c.ngrok.io/wx/callBack   (å¡«ä½ è‡ªå·±çš„) --è¿™ä¸ªä¸‹é¢è¯¦è§£</span>

<span class="token attr-name">wx.secret</span><span class="token punctuation">=</span><span class="token attr-value">xxxxxxxxxx(å¡«ä½ è‡ªå·±çš„)    </span>

<span class="token attr-name">wx.tokenUrl</span><span class="token punctuation">=</span><span class="token attr-value">https://api.weixin.qq.com/sns/oauth2/access_token?</span>

<span class="token attr-name">wx.userInfoUrl</span><span class="token punctuation">=</span><span class="token attr-value">https://api.weixin.qq.com/sns/userinfo?</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>2ï¸âƒ£controllerå±‚ä»£ç å±•ç¤º</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * **********************************************************
 *
 * @Project:
 * @Author : Gavincoder
 * @Mail : xunyegege@gmail.com
 * @Github : https://github.com/xunyegege
 * @ver : version 1.0
 * @Date : 2019-10-09 10:27
 * @description:
 ************************************************************/</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/wx&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WxController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">WxLoginModel</span> wxLoginModel<span class="token punctuation">;</span>


    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/getCode&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">//å°†ç”Ÿæˆçš„é“¾æ¥è¿”å›åˆ°å‰ç«¯å¹¶é‡å®šå‘åˆ°é“¾æ¥åœ°å€</span>
        <span class="token comment">// ä¸ºäº†ä½¿ç”¨redirecté‡å®šå‘æ–¹æ³•,ä¸å¯åŠ ä¸Š@restcontroller  @ResponseBody</span>
        <span class="token comment">//è¿™è¾¹ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒç»´ç ç”Ÿæˆå™¨ç”ŸæˆäºŒç»´ç å›¾åƒè¿›è¡Œæ‰«ç </span>
        <span class="token keyword">return</span> <span class="token string">&quot;redirect:&quot;</span> <span class="token operator">+</span> wxLoginModel<span class="token punctuation">.</span><span class="token function">getRealUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/callBack&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">callBack</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//1.ä½¿ç”¨å›è°ƒä¼ è¿›æ¥çš„codeæ•°æ®è°ƒç”¨ç”Ÿæˆé“¾æ¥çš„æ–¹æ³•,è·å–è¯·æ±‚access_token&amp;openidç­‰å‚æ•°çš„é“¾æ¥</span>
        <span class="token class-name">String</span> accessTokenUrl <span class="token operator">=</span> wxLoginModel<span class="token punctuation">.</span><span class="token function">getAccessTokenUrl</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.é€šè¿‡å·¥å…·ç±»å‘èµ·httpè¯·æ±‚å¹¶æ¥å—è¿”å›å€¼</span>
        <span class="token class-name">String</span> accessTokenUrlJson <span class="token operator">=</span> <span class="token class-name">UrlUtils</span><span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span>accessTokenUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.ç”±äºè·å–åˆ°çš„æ•°æ®æ˜¯jsonå¯¹è±¡æ ¼å¼çš„,æ‰€ä»¥ä½¿ç”¨fastjsonä¸­çš„æ–¹æ³•å°†å…¶è½¬æˆjsonObject</span>
        <span class="token class-name">JSONObject</span> accessTokenJsonObject <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>accessTokenUrlJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//4.é€šè¿‡fastjsonçš„getstringæ–¹æ³•æå–è¯¥jsonå¯¹è±¡ä¸­çš„æ•°æ®</span>
        <span class="token class-name">String</span> accessToken <span class="token operator">=</span> accessTokenJsonObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;access_token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> openid <span class="token operator">=</span> accessTokenJsonObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;openid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//5.ä½¿ç”¨è·å–åˆ°çš„æ•°æ®è°ƒç”¨ç”Ÿæˆé“¾æ¥çš„æ–¹æ³•,è·å–è¯·æ±‚ç”¨æˆ·ä¿¡æ¯çš„é“¾æ¥</span>
        <span class="token class-name">String</span> userInfoUrl <span class="token operator">=</span> wxLoginModel<span class="token punctuation">.</span><span class="token function">getUserInfoUrl</span><span class="token punctuation">(</span>accessToken<span class="token punctuation">,</span> openid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//6.é€šè¿‡å·¥å…·ç±»å‘èµ·httpè¯·æ±‚å¹¶æ¥å—è¿”å›å€¼</span>
        <span class="token class-name">String</span> userInfoJson <span class="token operator">=</span> <span class="token class-name">UrlUtils</span><span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span>userInfoUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//7.åŒä¸Š,è§£ææ•°æ®,è·å–æ•°æ®,è‡³æ­¤,å¾®ä¿¡ç™»å½•æˆåŠŸ</span>
        <span class="token class-name">JSONObject</span> userInfoJsonObject <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>userInfoJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

        
        <span class="token comment">//8.æ‹¿æ•°æ®è¿›è¡Œæ“ä½œ.è¿™è¾¹éšæ„äº†</span>
        <span class="token comment">//..........</span>
        
        <span class="token keyword">return</span> <span class="token string">&quot;éšæ„å†™ä»€ä¹ˆ&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/happy&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">happyBirthDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//å½©è›‹â¤ï¸</span>
        <span class="token keyword">return</span> <span class="token string">&quot;2019-10-10,ğŸ–æˆ‘äº²çˆ±çš„å¹³å¹³ç”Ÿæ—¥å¿«ä¹â¤ï¸&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><p>3ï¸âƒ£httpè¯·æ±‚å·¥å…·ç±»å±•ç¤º</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * æœ¬ç±»æä¾›äº†å¯¹URLæ‰€æŒ‡å‘çš„å†…å®¹çš„åŠ è½½æ“ä½œ
 *
 * @author boot
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UrlUtils</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * è·å–urlç½‘å€è¿”å›çš„æ•°æ®å†…å®¹
     * ç”¨çš„æ—¶å€™è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±è¡Œ,ä¼ å…¥ä½ éœ€è¦è¯·æ±‚çš„urlé“¾æ¥
     * @param urlStr
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">loadURL</span><span class="token punctuation">(</span><span class="token class-name">String</span> urlStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">URL</span><span class="token punctuation">(</span>urlStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">HttpURLConnection</span> urlConnection <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpURLConnection</span><span class="token punctuation">)</span> url<span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            urlConnection<span class="token punctuation">.</span><span class="token function">setRequestMethod</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            urlConnection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> urlConnection<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> responseStr <span class="token operator">=</span> <span class="token class-name">ConvertToString</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> responseStr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token class-name">ConvertToString</span><span class="token punctuation">(</span><span class="token class-name">InputStream</span> inputStream<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">InputStreamReader</span> inputStreamReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>inputStreamReader<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>line <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                inputStreamReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                bufferedReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div></blockquote> <h2 id="â­ï¸-6-redirecturlé“¾æ¥è§£æ-å†…ç½‘ç©¿é€æ–¹æ³•ä»‹ç»"><a href="#â­ï¸-6-redirecturlé“¾æ¥è§£æ-å†…ç½‘ç©¿é€æ–¹æ³•ä»‹ç»" aria-hidden="true" class="header-anchor">#</a> â­ï¸(6). redirectUrlé“¾æ¥è§£æ&amp;å†…ç½‘ç©¿é€æ–¹æ³•ä»‹ç»</h2> <blockquote><h3 id="ğŸŒ¹redirecturlå‚æ•°"><a href="#ğŸŒ¹redirecturlå‚æ•°" aria-hidden="true" class="header-anchor">#</a> ğŸŒ¹redirectUrlå‚æ•°</h3> <p>redirectUrlåœ°å€å¡«çš„æ˜¯æˆ‘ä»¬controllerå±‚çš„callBackæ–¹æ³•çš„åœ°å€</p> <p>è¿™ä¸ªæ˜¯ç»™å¾®ä¿¡ç”¨çš„å›è°ƒæ¥å£.</p> <p>è§£é‡Š:</p> <p>æˆ‘ä»¬ç‚¹å‡»ç™»å½•é“¾æ¥æˆ–æ‰«ç å,</p> <p>å¾®ä¿¡éœ€è¦å°†å®ƒç”Ÿæˆçš„æ•°æ®å›ä¼ ç»™æˆ‘ä»¬å¼€å‘è€…çš„åç«¯,</p> <p>è¿™æ—¶å€™å¾®ä¿¡å°±éœ€è¦ä¸€ä¸ªå›è°ƒæ¥å£,</p> <p>é‚£åœ¨ä¸Šé¢é…ç½®æ–‡ä»¶ä¸­éœ€è¦å¡«çš„å°±æ˜¯æˆ‘ä»¬æ‰€å†™çš„callBackæ¥å£æ–¹æ³•çš„åœ°å€</p> <h3 id="ğŸŒ¹ä½¿ç”¨ngrokè¿›è¡Œå†…ç½‘ç©¿é€"><a href="#ğŸŒ¹ä½¿ç”¨ngrokè¿›è¡Œå†…ç½‘ç©¿é€" aria-hidden="true" class="header-anchor">#</a> ğŸŒ¹ä½¿ç”¨Ngrokè¿›è¡Œå†…ç½‘ç©¿é€</h3> <p>æœ‰ä¸€éƒ¨åˆ†å¼€å‘è€…è·Ÿæˆ‘ä¸€æ ·æ˜¯åœ¨æœ¬æœºä¸Šè¿›è¡Œæ“ä½œçš„,</p> <p>æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯å•æœºå†…ç½‘ç¯å¢ƒ,</p> <p>è¦æƒ³è®©å¾®ä¿¡ç«¯è°ƒç”¨åˆ°æˆ‘ä»¬çš„åœ°å€,</p> <p>å°±éœ€è¦è¿›è¡Œå†…ç½‘ç©¿é€</p> <h4 id="è½¯ä»¶æ¨è"><a href="#è½¯ä»¶æ¨è" aria-hidden="true" class="header-anchor">#</a> è½¯ä»¶æ¨è</h4> <p>https://ngrok.com/download</p> <p>ä½¿ç”¨æ–¹æ³•</p> <blockquote><p>macä¸‹ä½¿ç”¨</p> <p>ä½¿ç”¨å‘½ä»¤è¡Œç»ˆç«¯,æ¥åˆ°ngrokç›®å½•ä¸‹</p> <p>è¾“å…¥å‘½ä»¤:</p> <p>./ngrok http localhost:9004</p> <p>è¿™è¾¹çš„ç«¯å£å·å¯¹åº”ä½ è‡ªå·±çš„é¡¹ç›®çš„ç«¯å£å·</p> <p>ç”»æ¡†çš„å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„é“¾æ¥,æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9fbp45aj30ih0en75c.jpg" alt="image-20191009211649162"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>é…ç½®æ–‡ä»¶<span class="token operator">:</span>  wx<span class="token punctuation">.</span>redirectUrl<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">87</span>ef9499<span class="token punctuation">.</span>ngrok<span class="token punctuation">.</span>io<span class="token operator">/</span>wx<span class="token operator">/</span>callBack   
          <span class="token punctuation">(</span>åé¢çš„  <span class="token operator">/</span>wx<span class="token operator">/</span>callback  å¯¹åº”ä½ è‡ªå·±é¡¹ç›®ä¸­è‡ªå·±å†™çš„å›è°ƒå‡½æ•°çš„æ¥å£åœ°å€<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote> <blockquote><p>windowsä¸‹è§£å‹åŒå‡»exeæ–‡ä»¶</p> <p>åœ¨è·³å‡ºæ¥çš„å‘½ä»¤ä¸²å£ä¸­è¾“å…¥:</p> <p>ngrok http 8080  è¿™è¾¹çš„ç«¯å£å·å¯¹åº”ä½ è‡ªå·±çš„é¡¹ç›®çš„ç«¯å£å·</p> <p>å…¶ä½™æ“ä½œåŒä¸Š(ä¿®æ”¹é…ç½®æ–‡ä»¶åœ°å€)</p></blockquote> <h3 id="ğŸŒ¹åœ¨å¾®ä¿¡æµ‹è¯•å·ç½‘é¡µä¸Šè®¾ç½®è‡ªå·±çš„å†…ç½‘ç©¿é€åœ°å€"><a href="#ğŸŒ¹åœ¨å¾®ä¿¡æµ‹è¯•å·ç½‘é¡µä¸Šè®¾ç½®è‡ªå·±çš„å†…ç½‘ç©¿é€åœ°å€" aria-hidden="true" class="header-anchor">#</a> ğŸŒ¹åœ¨å¾®ä¿¡æµ‹è¯•å·ç½‘é¡µä¸Šè®¾ç½®è‡ªå·±çš„å†…ç½‘ç©¿é€åœ°å€</h3> <p>å‰é¢ä¸è¦åŠ   https://</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9k1atu5j30ta0fkmy6.jpg" alt="image-20191009212120163"></p></blockquote> <h2 id="â­ï¸-7-æµ‹è¯•å±•ç¤º"><a href="#â­ï¸-7-æµ‹è¯•å±•ç¤º" aria-hidden="true" class="header-anchor">#</a> â­ï¸(7).æµ‹è¯•å±•ç¤º</h2> <blockquote><p>1ï¸âƒ£åœ¨åœ°å€æ è¾“å…¥è¯·æ±‚åœ°å€,åœ°å€æ å˜çš„è¿™ä¸ªé“¾æ¥,å°±æ˜¯çœŸå®è¯·æ±‚åœ°å€,å¯ä»¥æ”¾åœ¨å¾®ä¿¡å®¢æˆ·ç«¯æ‰“å¼€</p> <p>,ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒç»´ç ç”Ÿæˆå™¨ç”ŸæˆäºŒç»´ç ,è¿›è€Œæ‰«ç ç™»å½•</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9rqk7ewj30xc086myf.jpg" alt="image-20191009212844488"></p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9tdxifnj30ou07gwfn.jpg" alt="image-20191009213020149"></p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9u6tv52j310n0egjuc.jpg" alt="image-20191009213106430"></p> <p>2ï¸âƒ£å¾®ä¿¡ç«¯æç¤ºè·å–ç”¨æˆ·ä¿¡æ¯,ç‚¹å‡»åŒæ„</p> <p>3ï¸âƒ£javaç«¯DeBugç»“æœ,æ‰€æœ‰æ•°æ®å‡å·²è·å¾—</p> <p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7s9vyxrsbj31b50gqaif.jpg" alt="image-20191009213244885"></p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°äº: </span> <span class="time">10/9/2019, 9:39:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 008.html" class="prev">
          åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 008(springbootä¸­é›†æˆBCryptå¯†ç åŠ å¯†&amp; jjwt&amp;è‡ªå®šä¹‰æ³¨è§£(æ‹¦æˆªå™¨))
        </a></span> <span class="next"><a href="/java/åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 010.html">
          åˆ†å¸ƒå¼å¾®æœåŠ¡ä¸“æ 010(SpringCloudä¸­çš„è¶…æ—¶é—®é¢˜è§£å†³æ–¹æ¡ˆ)
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1802431f.js" defer></script><script src="/assets/js/2.9f60d17e.js" defer></script><script src="/assets/js/16.d9e27bd4.js" defer></script>
  </body>
</html>
